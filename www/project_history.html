<div ng-controller="projectHistory">
  <!-- error indicator -->
  <div class="alert alert-danger" ng-show="error != undefined && error != ''">
    <strong>ERROR:</strong> {{error}}
  </div>

  <!-- empty message -->
  <div class="row" style="margin-top: 100px;" ng-show="!builds.length">
    <div class="col-md-4 col-md-offset-4" style="text-align:center;">
      <i class="fa fa-coffee" style="font-size:100pt;"></i>
      <h3>No builds to see! Take a cup of coffee or maybe trigger one manually?</h3>
    </div>
  </div>

  <!-- build histroy list -->
  <div class="panel panel-default" ng-repeat="build in builds | reverse">
    <div class="panel-body" ng-class="build.status" style="padding-top: 0; padding-bottom: 10px; padding-left: 30px;">
      <div class="row">
        <div class="col-md-6">
          <h5 class="commit">
            <i class="fa fa-check" ng-if="build.status == 'passed'"></i>
            <i class="fa fa-remove" ng-if="build.status == 'failed'"></i>
            <i class="fa fa-exchange" ng-if="build.status == 'running'"></i>
            <span><a href="/project/{{project.id}}/build/{{build.num}}"><span ng-bind-html="build.commit.message | unknown"></span> (#{{build.num}})</a></span>
          </h5>
          <h5 class="text-muted"><i class="fa fa-user-o"></i> <span><b>Author:</b> <span ng-bind-html="build.commit.author | unknown"></span></span></h5>
          <h5 class="text-muted"><i class="fa fa-circle-o-notch"></i><span><b>Commit:</b> #<span ng-bind="build.commit.ref | short" ></span></span></h5>
        </div>

        <div class="col-md-3" style="padding-top: 0;">
          <h5 class="text-muted"><i class="fa fa-calendar"></i><span><b>Time:</b> <span ng-bind="build.time | date:'yyyy-MM-dd HH:mm'"></span></span></h5>
          <h5 class="text-muted"><i class="fa fa-hourglass-half"></i> <span><b>Duration:</b> <span ng-bind="build.duration | duration"></span></span></h5>
          <h5 class="text-muted"><i class="fa fa-server"></i> <span><b>Node:</b> {{build.node}}</span></h5>
        </div>
      </div>
    </div>
  </div>
</div>
